<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Aziz Chatbot Intelligent Multilingue</title>

  <!-- Style spÃ©cifique au chatbot -->
  <link rel="stylesheet" href="../css/chatbot.css">

  <!-- Style global du site -->
  <link rel="stylesheet" href="../css/styles.css">

  <link rel="icon" href="https://azizmalloul.com/images/favicon.ico" type="image/x-icon">

  <!-- Highlight.js pour coloration syntaxique -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>

  <!-- Markdown + SÃ©curitÃ© -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
</head>

<body>

  <!-- JS dÃ©sactivÃ© -->
  <noscript>
    <p style="text-align:center; color:red;">âš ï¸ Ce chatbot nÃ©cessite JavaScript pour fonctionner.</p>
  </noscript>

  <!-- Consentement cookies -->
  <div id="cookie-overlay" class="cookie-overlay hidden"></div>
  <div id="cookie-consent" class="cookie-box">
    <h2>Nous accordons une grande importance Ã  ta confidentialitÃ©</h2>
    <div class="scroll-text">
      Ce site utilise des cookies afin dâ€™optimiser votre expÃ©rience de navigation. En cliquant sur â€œTout accepterâ€, vous consentez Ã  lâ€™utilisation de cookies Ã  des fins de performance, dâ€™analyse statistique et dâ€™affichage personnalisÃ©. Pour en savoir plus, veuillez consulter notre
      <a href="../confidentialite/">politique de confidentialitÃ©</a>
    </div>
    <div class="cookie-actions">
      <button id="accept-all">Tout accepter</button>
      <button id="reject-non-essential">Rejeter les cookies non essentiels</button>
    </div>
  </div>

  <!-- ğŸ¯ Chatbot principal -->
  <div id="chatbotApp">

    <!-- SÃ©lecteur de modÃ¨le + ThÃ¨me -->
    <div class="model-selector">
      <label for="modelSelect">ğŸ§  ModÃ¨le actuel :</label>
      <select id="modelSelect">
        <option value="meta-llama/llama-4-scout:free">Meta: Llama 4 Scout (free)</option>
        <option value="qwen/qwen2.5-vl-72b-instruct:free">Qwen2.5 VL 72B Instruct (free)</option>
        <option value="mistralai/mistral-small-3.1-24b-instruct:free">Mistral Small 3.1 24B (free)</option>
        <option value="deepseek/deepseek-chat-v3-0324:free">DeepSeek V3 0324 (free)</option>
        <option value="qwen/qwen3-235b-a22b:free">Qwen3 235B A22B (free)</option>
        <option value="deepseek/deepseek-prover-v2:free">DeepSeek Prover V2 (free)</option>
      </select>
      <button id="themeToggleBtn" aria-label="Basculer thÃ¨me clair/sombre">ğŸŒ™/â˜€ï¸</button>
    </div>

    <!-- Description du modÃ¨le -->
    <div class="model-description" id="modelDescription"></div>

    <!-- En-tÃªte chatbot -->
    <div id="chatbotHeader">
      <h2 class="chat-title">ğŸ’¬ Aziz Chatbot</h2>
    </div>

    <!-- Indicateur de frappe (optionnel, peut Ãªtre cachÃ© dynamiquement) -->
    <div class="typing-indicator hidden">
      <span>.</span><span>.</span><span>.</span>
    </div>

    <!-- Historique de chat -->
    <div id="chatHistory"></div>

    <!-- Zone de saisie -->
    <div class="input-container">
      <textarea id="userInput" rows="3" placeholder="Posez votre question ici..." aria-label="Entrer un message"></textarea>
      <button id="sendBtn" title="Envoyer" aria-label="Envoyer le message">â¤</button>
      <button id="stopBtn" title="ArrÃªter la rÃ©ponse" aria-label="ArrÃªter la rÃ©ponse en cours">â¹</button>
      <button id="clearBtn" title="Effacer la conversation" aria-label="Effacer la conversation">ğŸ—‘ï¸</button>
    </div>

  </div>

  <!-- Scripts -->
  <script src="../js/chatbot.js"></script>
  <script src="../js/cookies.js"></script>

</body>
</html>
